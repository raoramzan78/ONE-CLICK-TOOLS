<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator - Multi-Tools</title>
    <meta name="description" content="Generate QR codes for URLs, text, or contact information with our free online QR Code Generator tool.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- Header will be loaded dynamically -->
    <div id="header-placeholder"></div>

    <main class="container py-4">
        <div class="row">
            <!-- Main Content -->
            <div class="col-lg-8">
                <!-- Tool Container -->
                <div class="tool-container">
                    <!-- Tool Header -->
                    <div class="tool-header">
                        <h1><i class="fas fa-qrcode me-2"></i> QR Code Generator</h1>
                        <p class="tool-description">Generate QR codes for URLs, text, contact information, or any other data. Customize size, color, and download in various formats.</p>
                    </div>

                    <!-- Tool Content -->
                    <div class="tool-content">
                        <div class="row">
                            <!-- QR Code Options -->
                            <div class="col-md-6">
                                <!-- Content Type Tabs -->
                                <ul class="nav nav-tabs mb-3" id="contentTypeTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="url-tab" data-bs-toggle="tab" data-bs-target="#url-content" type="button" role="tab" aria-controls="url-content" aria-selected="true">URL</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="text-tab" data-bs-toggle="tab" data-bs-target="#text-content" type="button" role="tab" aria-controls="text-content" aria-selected="false">Text</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact-content" type="button" role="tab" aria-controls="contact-content" aria-selected="false">Contact</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="wifi-tab" data-bs-toggle="tab" data-bs-target="#wifi-content" type="button" role="tab" aria-controls="wifi-content" aria-selected="false">WiFi</button>
                                    </li>
                                </ul>

                                <!-- Tab Content -->
                                <div class="tab-content mb-4" id="contentTypeTabsContent">
                                    <!-- URL Content -->
                                    <div class="tab-pane fade show active" id="url-content" role="tabpanel" aria-labelledby="url-tab">
                                        <div class="mb-3">
                                            <label for="url-input" class="form-label">Enter URL:</label>
                                            <input type="url" class="form-control" id="url-input" placeholder="https://example.com" value="https://example.com">
                                        </div>
                                    </div>

                                    <!-- Text Content -->
                                    <div class="tab-pane fade" id="text-content" role="tabpanel" aria-labelledby="text-tab">
                                        <div class="mb-3">
                                            <label for="text-input" class="form-label">Enter Text:</label>
                                            <textarea class="form-control" id="text-input" rows="4" placeholder="Enter your text here..."></textarea>
                                        </div>
                                    </div>

                                    <!-- Contact Content -->
                                    <div class="tab-pane fade" id="contact-content" role="tabpanel" aria-labelledby="contact-tab">
                                        <div class="mb-3">
                                            <label for="contact-name" class="form-label">Name:</label>
                                            <input type="text" class="form-control" id="contact-name" placeholder="John Doe">
                                        </div>
                                        <div class="mb-3">
                                            <label for="contact-phone" class="form-label">Phone:</label>
                                            <input type="tel" class="form-control" id="contact-phone" placeholder="+1234567890">
                                        </div>
                                        <div class="mb-3">
                                            <label for="contact-email" class="form-label">Email:</label>
                                            <input type="email" class="form-control" id="contact-email" placeholder="john@example.com">
                                        </div>
                                        <div class="mb-3">
                                            <label for="contact-website" class="form-label">Website:</label>
                                            <input type="url" class="form-control" id="contact-website" placeholder="https://example.com">
                                        </div>
                                    </div>

                                    <!-- WiFi Content -->
                                    <div class="tab-pane fade" id="wifi-content" role="tabpanel" aria-labelledby="wifi-tab">
                                        <div class="mb-3">
                                            <label for="wifi-ssid" class="form-label">Network Name (SSID):</label>
                                            <input type="text" class="form-control" id="wifi-ssid" placeholder="WiFi Network Name">
                                        </div>
                                        <div class="mb-3">
                                            <label for="wifi-password" class="form-label">Password:</label>
                                            <input type="password" class="form-control" id="wifi-password" placeholder="WiFi Password">
                                        </div>
                                        <div class="mb-3">
                                            <label for="wifi-encryption" class="form-label">Encryption Type:</label>
                                            <select class="form-select" id="wifi-encryption">
                                                <option value="WPA">WPA/WPA2</option>
                                                <option value="WEP">WEP</option>
                                                <option value="nopass">No Password</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- QR Code Customization -->
                                <h4>Customize QR Code</h4>
                                <div class="mb-3">
                                    <label for="qr-size" class="form-label">Size: <span id="size-value">200</span>px</label>
                                    <input type="range" class="form-range" id="qr-size" min="100" max="500" step="10" value="200">
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="qr-foreground" class="form-label">Foreground Color:</label>
                                        <input type="color" class="form-control form-control-color" id="qr-foreground" value="#000000">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="qr-background" class="form-label">Background Color:</label>
                                        <input type="color" class="form-control form-control-color" id="qr-background" value="#ffffff">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="qr-error-correction" class="form-label">Error Correction Level:</label>
                                    <select class="form-select" id="qr-error-correction">
                                        <option value="L">Low (7%)</option>
                                        <option value="M" selected>Medium (15%)</option>
                                        <option value="Q">Quartile (25%)</option>
                                        <option value="H">High (30%)</option>
                                    </select>
                                    <div class="form-text">Higher levels provide better error correction but make the QR code more complex.</div>
                                </div>

                                <!-- Generate Button -->
                                <button id="generate-qr" class="btn btn-primary btn-lg w-100 mb-3">
                                    <i class="fas fa-qrcode me-2"></i>Generate QR Code
                                </button>
                            </div>

                            <!-- QR Code Display -->
                            <div class="col-md-6">
                                <div class="qr-code-container text-center p-3 bg-light rounded mb-3">
                                    <div id="qr-code-display" class="mb-3">
                                        <div class="loading-placeholder">
                                            <p>Your QR code will appear here</p>
                                        </div>
                                    </div>
                                    <div id="download-options" class="d-none">
                                        <div class="btn-group w-100">
                                            <button id="download-png" class="btn btn-success">
                                                <i class="fas fa-download me-2"></i>PNG
                                            </button>
                                            <button id="download-jpeg" class="btn btn-success">
                                                <i class="fas fa-download me-2"></i>JPEG
                                            </button>
                                            <button id="download-svg" class="btn btn-success">
                                                <i class="fas fa-download me-2"></i>SVG
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- How to Use Section -->
                    <div class="how-to-use mt-5">
                        <h3>How to Use the QR Code Generator</h3>
                        <ol>
                            <li>Select the type of content you want to encode (URL, Text, Contact, or WiFi).</li>
                            <li>Enter the required information for your selected content type.</li>
                            <li>Customize the QR code appearance using the size and color options.</li>
                            <li>Click the "Generate QR Code" button to create your QR code.</li>
                            <li>Download the QR code in your preferred format (PNG, JPEG, or SVG).</li>
                        </ol>
                    </div>

                    <!-- QR Code Information -->
                    <div class="qr-info mt-5">
                        <h3>About QR Codes</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h5 class="card-title"><i class="fas fa-info-circle me-2"></i>What is a QR Code?</h5>
                                        <p class="card-text">QR (Quick Response) codes are two-dimensional barcodes that can store various types of information. They were invented in 1994 by Denso Wave, a Japanese automotive company.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h5 class="card-title"><i class="fas fa-mobile-alt me-2"></i>How to Scan QR Codes</h5>
                                        <p class="card-text">Most modern smartphones can scan QR codes using their built-in camera app. Simply open your camera, point it at the QR code, and tap the notification that appears.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h5 class="card-title"><i class="fas fa-shield-alt me-2"></i>QR Code Safety</h5>
                                        <p class="card-text">Always be cautious when scanning QR codes from unknown sources. They can lead to malicious websites or trigger automatic actions on your device.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title"><i class="fas fa-cogs me-2"></i>QR Code Uses</h5>
                                        <p class="card-text">QR codes are used for contactless payments, digital menus, business cards, event tickets, product information, and much more.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ad Section - Bottom -->
                <div class="ad-container text-center my-4">
                    <div class="ad-placeholder">
                        <p>Advertisement Space</p>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="col-lg-4">
                <!-- Ad Section - Sidebar Top -->
                <div class="ad-container text-center mb-4">
                    <div class="ad-placeholder">
                        <p>Advertisement Space</p>
                    </div>
                </div>

                <!-- Related Tools -->
                <div class="sidebar mb-4">
                    <h4 class="sidebar-title">Related Tools</h4>
                    <div id="related-tools-container"></div>
                </div>

                <!-- Popular Tools -->
                <div class="sidebar">
                    <h4 class="sidebar-title">Popular Tools</h4>
                    <ul class="related-tools">
                        <li><a href="word-counter.html"><i class="fas fa-calculator me-2"></i> Word Counter</a></li>
                        <li><a href="password-generator.html"><i class="fas fa-key me-2"></i> Password Generator</a></li>
                        <li><a href="image-to-png.html"><i class="fas fa-file-image me-2"></i> Image to PNG Converter</a></li>
                        <li><a href="json-formatter.html"><i class="fas fa-code me-2"></i> JSON Formatter</a></li>
                        <li><a href="color-code-picker.html"><i class="fas fa-palette me-2"></i> Color Code Picker</a></li>
                    </ul>
                </div>

                <!-- Ad Section - Sidebar Bottom -->
                <div class="ad-container text-center mt-4">
                    <div class="ad-placeholder">
                        <p>Advertisement Space</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer will be loaded dynamically -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script src="../js/tools-data.js"></script>
    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get elements
            const generateQrBtn = document.getElementById('generate-qr');
            const qrCodeDisplay = document.getElementById('qr-code-display');
            const downloadOptions = document.getElementById('download-options');
            const downloadPngBtn = document.getElementById('download-png');
            const downloadJpegBtn = document.getElementById('download-jpeg');
            const downloadSvgBtn = document.getElementById('download-svg');
            const qrSize = document.getElementById('qr-size');
            const sizeValue = document.getElementById('size-value');
            const qrForeground = document.getElementById('qr-foreground');
            const qrBackground = document.getElementById('qr-background');
            const qrErrorCorrection = document.getElementById('qr-error-correction');
            
            // Content type inputs
            const urlInput = document.getElementById('url-input');
            const textInput = document.getElementById('text-input');
            const contactName = document.getElementById('contact-name');
            const contactPhone = document.getElementById('contact-phone');
            const contactEmail = document.getElementById('contact-email');
            const contactWebsite = document.getElementById('contact-website');
            const wifiSsid = document.getElementById('wifi-ssid');
            const wifiPassword = document.getElementById('wifi-password');
            const wifiEncryption = document.getElementById('wifi-encryption');
            
            // Content type tabs
            const contentTypeTabs = document.querySelectorAll('#contentTypeTabs button');
            
            // Update size value display
            qrSize.addEventListener('input', function() {
                sizeValue.textContent = this.value;
            });
            
            // Generate QR code on button click
            generateQrBtn.addEventListener('click', generateQRCode);
            
            // Generate QR code function
            function generateQRCode() {
                // Get active tab
                const activeTab = document.querySelector('#contentTypeTabs button.active');
                const contentType = activeTab.id.replace('-tab', '');
                
                // Get QR code content based on active tab
                let qrContent = '';
                
                switch (contentType) {
                    case 'url':
                        qrContent = urlInput.value.trim();
                        if (!qrContent) {
                            alert('Please enter a URL.');
                            return;
                        }
                        break;
                    case 'text':
                        qrContent = textInput.value.trim();
                        if (!qrContent) {
                            alert('Please enter some text.');
                            return;
                        }
                        break;
                    case 'contact':
                        const name = contactName.value.trim();
                        const phone = contactPhone.value.trim();
                        const email = contactEmail.value.trim();
                        const website = contactWebsite.value.trim();
                        
                        if (!name && !phone && !email && !website) {
                            alert('Please enter at least one contact detail.');
                            return;
                        }
                        
                        // Create vCard format
                        qrContent = 'BEGIN:VCARD\nVERSION:3.0\n';
                        if (name) qrContent += `FN:${name}\n`;
                        if (phone) qrContent += `TEL:${phone}\n`;
                        if (email) qrContent += `EMAIL:${email}\n`;
                        if (website) qrContent += `URL:${website}\n`;
                        qrContent += 'END:VCARD';
                        break;
                    case 'wifi':
                        const ssid = wifiSsid.value.trim();
                        const password = wifiPassword.value.trim();
                        const encryption = wifiEncryption.value;
                        
                        if (!ssid) {
                            alert('Please enter a network name (SSID).');
                            return;
                        }
                        
                        // Create WiFi format
                        qrContent = `WIFI:S:${ssid};`;
                        if (encryption !== 'nopass') {
                            qrContent += `T:${encryption};`;
                            if (password) qrContent += `P:${password};`;
                        } else {
                            qrContent += 'T:nopass;';
                        }
                        qrContent += ';';
                        break;
                }
                
                // Get QR code options
                const size = parseInt(qrSize.value);
                const foreground = qrForeground.value;
                const background = qrBackground.value;
                const errorCorrectionLevel = qrErrorCorrection.value;
                
                // Clear previous QR code
                qrCodeDisplay.innerHTML = '';
                
                // Create canvas element
                const canvas = document.createElement('canvas');
                qrCodeDisplay.appendChild(canvas);
                
                // Generate QR code
                QRCode.toCanvas(canvas, qrContent, {
                    width: size,
                    margin: 1,
                    color: {
                        dark: foreground,
                        light: background
                    },
                    errorCorrectionLevel: errorCorrectionLevel
                }, function(error) {
                    if (error) {
                        console.error(error);
                        alert('Error generating QR code. Please try again.');
                        return;
                    }
                    
                    // Show download options
                    downloadOptions.classList.remove('d-none');
                });
            }
            
            // Download QR code as PNG
            downloadPngBtn.addEventListener('click', function() {
                downloadQRCode('png');
            });
            
            // Download QR code as JPEG
            downloadJpegBtn.addEventListener('click', function() {
                downloadQRCode('jpeg');
            });
            
            // Download QR code as SVG
            downloadSvgBtn.addEventListener('click', function() {
                const canvas = qrCodeDisplay.querySelector('canvas');
                if (!canvas) return;
                
                // Get QR code data
                const qrData = getQRCodeData();
                
                // Generate SVG
                QRCode.toString(qrData, {
                    type: 'svg',
                    width: parseInt(qrSize.value),
                    margin: 1,
                    color: {
                        dark: qrForeground.value,
                        light: qrBackground.value
                    },
                    errorCorrectionLevel: qrErrorCorrection.value
                }, function(error, svg) {
                    if (error) {
                        console.error(error);
                        alert('Error generating SVG. Please try again.');
                        return;
                    }
                    
                    // Create download link
                    const blob = new Blob([svg], { type: 'image/svg+xml' });
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'qrcode.svg';
                    document.body.appendChild(a);
                    a.click();
                    
                    // Clean up
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                });
            });
            
            // Download QR code function
            function downloadQRCode(format) {
                const canvas = qrCodeDisplay.querySelector('canvas');
                if (!canvas) return;
                
                // Create download link
                const a = document.createElement('a');
                
                if (format === 'png') {
                    a.href = canvas.toDataURL('image/png');
                    a.download = 'qrcode.png';
                } else if (format === 'jpeg') {
                    // Convert to JPEG (white background)
                    const context = canvas.getContext('2d');
                    const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
                    const tempCanvas = document.createElement('canvas');
                    tempCanvas.width = canvas.width;
                    tempCanvas.height = canvas.height;
                    const tempContext = tempCanvas.getContext('2d');
                    tempContext.fillStyle = '#ffffff';
                    tempContext.fillRect(0, 0, tempCanvas.width, tempCanvas.height);
                    tempContext.putImageData(imageData, 0, 0);
                    
                    a.href = tempCanvas.toDataURL('image/jpeg', 0.9);
                    a.download = 'qrcode.jpg';
                }
                
                document.body.appendChild(a);
                a.click();
                
                // Clean up
                document.body.removeChild(a);
            }
            
            // Get QR code data based on active tab
            function getQRCodeData() {
                // Get active tab
                const activeTab = document.querySelector('#contentTypeTabs button.active');
                const contentType = activeTab.id.replace('-tab', '');
                
                // Get QR code content based on active tab
                let qrContent = '';
                
                switch (contentType) {
                    case 'url':
                        qrContent = urlInput.value.trim();
                        break;
                    case 'text':
                        qrContent = textInput.value.trim();
                        break;
                    case 'contact':
                        const name = contactName.value.trim();
                        const phone = contactPhone.value.trim();
                        const email = contactEmail.value.trim();
                        const website = contactWebsite.value.trim();
                        
                        // Create vCard format
                        qrContent = 'BEGIN:VCARD\nVERSION:3.0\n';
                        if (name) qrContent += `FN:${name}\n`;
                        if (phone) qrContent += `TEL:${phone}\n`;
                        if (email) qrContent += `EMAIL:${email}\n`;
                        if (website) qrContent += `URL:${website}\n`;
                        qrContent += 'END:VCARD';
                        break;
                    case 'wifi':
                        const ssid = wifiSsid.value.trim();
                        const password = wifiPassword.value.trim();
                        const encryption = wifiEncryption.value;
                        
                        // Create WiFi format
                        qrContent = `WIFI:S:${ssid};`;
                        if (encryption !== 'nopass') {
                            qrContent += `T:${encryption};`;
                            if (password) qrContent += `P:${password};`;
                        } else {
                            qrContent += 'T:nopass;';
                        }
                        qrContent += ';';
                        break;
                }
                
                return qrContent;
            }
            
            // Generate initial QR code
            generateQRCode();
            
            // Load related tools
            renderRelatedTools('qr-code-generator', 'image-tools', 'related-tools-container');
        });
    </script>
</body>
</html> 